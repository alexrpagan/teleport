<html>
<head>
   <title>Teleport</title>
   <bgsound id="jpsound">
   <link rel="Stylesheet" type="text/css" href="style.css"></link>
    <script type="text/javascript" src="https://www.google.com/jsapi?key=AIzaSyBaPOMfVAm_WwTJxaBYuJBgsr4caKOjiSs"> </script>
   <script type="text/javascript" src="javascript/firstpersoncam.js"></script>
   <script type="text/javascript" src="javascript/math3d.js"></script>
   <script type="text/javascript">
     var ge;

     google.load("earth", "1");

     function init() {
     	google.earth.createInstance('map3d', initCB, failureCB);
     }

     function createIcon(href, x, y, width, height, visible) {
	     var icon = ge.createIcon('');
	     icon.setHref(href);
	     var overlay = ge.createScreenOverlay('');
	     overlay.setDrawOrder(1 || 0);
	     overlay.setVisibility(visible || false);
	     overlay.setIcon(icon);
	     overlay.getOverlayXY().set(x, ge.UNITS_PIXELS, y, ge.UNITS_INSET_PIXELS);
	     overlay.getScreenXY().set(0, ge.UNITS_FRACTION, 1, ge.UNITS_FRACTION);
	     overlay.getSize().set(width, ge.UNITS_PIXELS, height, ge.UNITS_PIXELS);
	     ge.getFeatures().appendChild(overlay);
	     return overlay;
     }

     var downActive, downInactive, upActive, upInactive, rightActive, rightInactive, leftActive, leftInactive;
     var active, inactive;
     var jetpack;
     function initCB(instance) {
	     ge = instance;			
	     ge.getWindow().setVisibility(true);

	     ge.getOptions().setFlyToSpeed(50);
	     ge.getLayerRoot().enableLayerById(ge.LAYER_BUILDINGS, true);

	     
	     cam = new FirstPersonCam();
	     cam.updateCamera();

	     
	     downInactive = createIcon('images/downnavi.png', 129, 604, 70, 70, true);
	     downActive = createIcon('downnavi2.png', 129, 604, 70, 70, false);
	     upInactive = createIcon('images/upnavi.png', 130, 485, 70, 70, true);
	     upActive = createIcon('images/upnavi2.png', 130, 485, 70, 70, false);
	     rightInactive = createIcon('images/rightnavi1.png', 187, 545, 70, 70, true);
	     rightActive = createIcon('images/leftnavi2.png', 187, 545, 70, 70, false);
	     leftInactive = createIcon('images/leftnavi.png', 70, 545, 70, 70, true);
	     leftActive = createIcon('images/rightnavi2.png', 70, 545, 70, 70, false);
	     active = createIcon('images/geoparty_dark.png', 105, 520, 120, 120, true);
	     inactive = createIcon('images/geoparty_light.png', 105, 520, 120, 120, false);
	     jetpack = createIcon('images/jetpack.png', 105, 35, 120, 120, false);
     }

     function failureCB(errorCode) {		
     	alert("Something went wrong!");
     }
     google.setOnLoadCallback(init);
   </script>

   <script src="https://www.google.com/uds/?file=earth&amp;v=1" type="text/javascript"></script>
   <script src="https://www.google.com/uds/api/earth/1.0/109c7b2bae7fe6cc34ea875176165d81/default.I.js" type="text/javascript"></script>

</head>
<body onKeyDown="return keyDown(event);" onKeyUp="return keyUp(event);"> 
   <div id="map3d" style="height: 100%; width: 100%;"></div>
</body>

